<script type="text/javascript">
  google.load("visualization", "1", {packages:["corechart"]});
  google.setOnLoadCallback(drawChart);
  function drawChart() {
    var data = google.visualization.arrayToDataTable(<%= @genres.to_json.html_safe %>);

    var options = {
      title: 'Genres by Percentage',
      pieHole: 0.4,
    };

    var chart = new google.visualization.PieChart(document.getElementById('genrechart'));
    chart.draw(data, options);
    
    data = google.visualization.arrayToDataTable(<%= @platforms.to_json.html_safe %>);

    options = {
      title: 'Platforms by Percentage',
      pieHole: 0.4,
    };

    chart = new google.visualization.PieChart(document.getElementById('platformchart'));
    chart.draw(data, options);
    
    data = google.visualization.arrayToDataTable(<%= @developers.to_json.html_safe %>);

    options = {
      title: 'Developers by Percentage',
      pieHole: 0.4,
    };

    chart = new google.visualization.PieChart(document.getElementById('developerchart'));
    chart.draw(data, options);
  }
</script>

<div id="genrechart" style="width: 900px; height: 500px;"></div>
<div id="platformchart" style="width: 900px; height: 500px;"></div>
<div id="developerchart" style="width: 900px; height: 500px;"></div>
